## Mongodb-Migrate 并发迁移脚本
### Go语言开发的并发mongodb迁移脚本，提供基本功能，代码150行，无学习成本，可迅速根据需求修改拿走.
### 用法：
    go run main.go
### 截图:

```
===================================================================================================================
| Mongodb Migrate Tool
===================================================================================================================
| URL格式: mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]
| URL例子[
|     mongodb://127.0.0.1:27017/test
|     mongodb://root:Vmjk9B@192.168.100.1:27017/entryDB
| ]
| 默认每次拉去条数: 4000
| 默认并发迁移任务数: 100
| 默认每个任务写入条数: 400
===================================================================================================================
(1/4) 请输入数据源URL:
mongodb://192.168.0.204:27017/userStorage
(2/4) 请输入collection:
user
(3/4) 请输入目标源URL:
mongodb://127.0.0.1:27017/test
(4/4) 请输入collection:
userCopy
-------------------------------------------------------------------------------------------------------------------
0 / 312744 (0%)
4000 / 312744 (1%)
```

### 修改并发数量:
    const FETCH_SOURCE_LIMIT = 4000    //从源库每次拉去数据条数
    const CONCURRENCY_COUNT  = 10      //执行迁移的任务数
    const CHUNK_SIZE         = 400     //每个任务写入目标库的数据条数